import{a as y}from"./chunk-5KK4JV54.js";import{a as v}from"./chunk-DQ2KTUME.js";import{Ba as c,Fa as f,Ma as n,Oa as i,Pa as p,R as r,Ra as g,Sa as _,Ta as u,X as a,Xa as b,Y as d,ha as m,pb as P,qb as h,rb as C,sa as l}from"./chunk-BN5C3YFC.js";function O(o,e){if(o&1){let t=g();i(0,"app-post-item",3),_("delete",function(A){a(t);let M=u();return d(M.onDelete(A))}),p()}if(o&2){let t=e.$implicit;n("title",t.title)("body",t.body)("postId",t.id)}}function I(o,e){o&1&&(i(0,"div",4),b(1," No posts available. "),p())}var x=class o{api=r(v);loading=m(!0);posts=[];constructor(){this.loadPosts()}loadPosts(){this.loading.set(!0),this.api.getAllPosts().subscribe({next:e=>{this.posts=e.posts,this.loading.set(!1)},error:()=>this.loading.set(!1)})}onDelete(e){this.loading.set(!0),this.api.deletePost(e).subscribe({next:()=>{this.posts=this.posts.filter(t=>t.id!==e),this.loading.set(!1)},error:()=>this.loading.set(!1)})}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=c({type:o,selectors:[["app-all-posts"]],decls:3,vars:2,consts:[[1,"posts"],[3,"title","body","postId","delete",4,"ngFor","ngForOf"],["class","no-posts",4,"ngIf"],[3,"delete","title","body","postId"],[1,"no-posts"]],template:function(t,s){t&1&&(i(0,"div",0),f(1,O,1,3,"app-post-item",1)(2,I,2,0,"div",2),p()),t&2&&(l(),n("ngForOf",s.posts),l(),n("ngIf",s.posts.length===0&&!s.loading()))},dependencies:[C,P,h,y],styles:[".post[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;padding:10px 0}.post[_ngcontent-%COMP%]:last-child{border-bottom:none}.post-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.post-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#f44336;color:#fff;border:none;padding:6px 12px;border-radius:4px;cursor:pointer}"]})};export{x as AllPostsComponent};
